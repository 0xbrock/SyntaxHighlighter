<pre id="sh_014_legacy_a" name="code" class="plain">basic check</pre>
<pre id="sh_014_legacy_b" name="code" class="plain:nocontrols">no toolbar</pre>
<pre id="sh_014_legacy_c" name="code" class="plain:nogutter">no gutter</pre>
<pre id="sh_014_legacy_d" name="code" class="plain:collapse">collapsed</pre>
<pre id="sh_014_legacy_e" name="code" class="plain:firstline[10]">first line</pre>

<script type="text/javascript">
queue(function()
{
	var $sh;
	
	dp.SyntaxHighlighter.HighlightAll('code');
	
	module('014_legacy');
	
	test('basic check', function() 
	{
		$sh = getSh('#sh_014_legacy_a');
		
		ok_sh($sh);
		ok_promo($sh);
		ok_code($sh);
	});

	test('no gutter', function() 
	{
		$sh = getSh('#sh_014_legacy_c');
		
		ok_sh($sh);
		ok_promo($sh);
		ok_code($sh);
		
		ok($sh.is('.nogutter'), '.nogutter present');
		ok($sh.find('table > tbody > tr > .gutter').length == 0, 'Gutter not present');
	});
	
	test('collapsed check', function()
	{
		$sh = getSh('#sh_014_legacy_d');
		
		ok_sh($sh);
		ok_promo($sh);
		ok_collapsed($sh);
		ok_caption($sh, SyntaxHighlighter.config.strings.expandSource, 'Expand text');
	});
	
	test('first line check', function()
	{
		$sh = getSh('#sh_014_legacy_e');
		
		ok_sh($sh);
		ok_promo($sh);
		ok_gutter($sh);
		ok_code($sh);
		equals($sh.find('.gutter .index0').text().replace(/\s+$/, ''), '10', 'First line');
	});
});
</script>
